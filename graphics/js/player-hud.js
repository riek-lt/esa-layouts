(()=>{"use strict";var e,t={8594:(e,t,n)=>{var a=n(9804),o=n.n(a),s=n(9845),i=n(9340),r=n(305),c=n(3578),d=p("computed",c.aH),l=p("computed",c.L8),u=p("methods",c.i0),g=p("methods",c.PY);function p(e,t){function n(n,a){return(0,r.u1)((function(o,s){o[e]||(o[e]={});var i,r=((i={})[s]=n,i);o[e][s]=void 0!==a?t(a,r)[s]:t(r)[s]}))}return function(e,t){if("string"==typeof t){var a=t,o=e;return n(a,void 0)(o,a)}return n(e,function(e){var t=e&&e.namespace;if("string"==typeof t)return"/"!==t[t.length-1]?t+"/":t}(t))}}var v=n(6819),f=function(e,t,n,a){var o,s=arguments.length,i=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};const h=new s.SpeedcontrolUtilBrowser(nodecg),m={additionalDonations:nodecg.Replicant("additionalDonations"),assetsDonationAlertAssets:nodecg.Replicant("assets:donation-alert-assets"),assetsIntermissionSlides:nodecg.Replicant("assets:intermission-slides"),assetsMediaBoxImages:nodecg.Replicant("assets:media-box-images"),assetsReaderIntroductionImages:nodecg.Replicant("assets:reader-introduction-images"),bids:nodecg.Replicant("bids"),bigbuttonPlayerMap:nodecg.Replicant("bigbuttonPlayerMap"),commentators:nodecg.Replicant("commentators"),commentatorsNew:nodecg.Replicant("commentatorsNew"),countdown:nodecg.Replicant("countdown"),currentRunDelay:nodecg.Replicant("currentRunDelay"),donationAlerts:nodecg.Replicant("donationAlerts"),donationReader:nodecg.Replicant("donationReader"),donationReaderNew:nodecg.Replicant("donationReaderNew"),donationsToRead:nodecg.Replicant("donationsToRead"),donationTotal:nodecg.Replicant("donationTotal"),donationTotalMilestones:nodecg.Replicant("donationTotalMilestones"),gameLayouts:nodecg.Replicant("gameLayouts"),intermissionSlides:nodecg.Replicant("intermissionSlides"),lowerThird:nodecg.Replicant("lowerThird"),mediaBox:nodecg.Replicant("mediaBox"),musicData:nodecg.Replicant("musicData"),obsData:nodecg.Replicant("obsData"),omnibar:nodecg.Replicant("omnibar"),otherStreamData:nodecg.Replicant("otherStreamData"),prizes:nodecg.Replicant("prizes"),readerIntroduction:nodecg.Replicant("readerIntroduction"),runDataActiveRun:h.runDataActiveRun,runDataActiveRunSurrounding:h.runDataActiveRunSurrounding,runDataArray:h.runDataArray,serverTimestamp:nodecg.Replicant("serverTimestamp"),streamDeckData:nodecg.Replicant("streamDeckData"),timer:h.timer,ttsVoices:nodecg.Replicant("ttsVoices"),upcomingRunID:nodecg.Replicant("upcomingRunID"),videoPlayer:nodecg.Replicant("videoPlayer")};let y,R=class extends v.hw{constructor(){super(...arguments),this.reps={}}get repsTyped(){return this.reps}setState({name:e,val:t}){i.Ay.set(this.reps,e,o()(t))}setReplicant({name:e,val:t}){i.Ay.set(this.reps,e,o()(t)),m[e].value=o()(t)}};f([v.sM],R.prototype,"setState",null),f([v.sM],R.prototype,"setReplicant",null),R=f([(0,v.nV)({name:"ReplicantModule",namespaced:!0})],R);const b=function(e,t){function n(t){return function(n,a){if("string"==typeof a){var o=a,s=n;return t(o,{namespace:e})(s,o)}var i=n,r=function(e,t){var n={};return[e,t].forEach((function(e){Object.keys(e).forEach((function(t){n[t]=e[t]}))})),n}(a||{},{namespace:e});return t(i,r)}}return{State:n(d),Getter:n(l),Mutation:n(g),Action:n(u)}}("ReplicantModule");n(7980),n(8010),n(6577),n(8969),n(9493);var D=function(e,t,n,a){var o,s=arguments.length,i=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let w=class extends i.Ay{constructor(){super(...arguments),this.donationsToReadTO=0,this.tagScanned=!1,this.scannedData=null,this.therunggMessage=null}get largestDonation(){return`€${this.donationsToRead.reduce(((e,t)=>e>t.amount?e:t.amount),0).toFixed(2)}`}get tagDisplayName(){return this.scannedData?this.scannedData.raw.pronouns?`${this.scannedData.user.displayName} (${this.scannedData.raw.pronouns})`:this.scannedData.user.displayName:""}get buttonId(){var e;return(null===(e=this.scannedData)||void 0===e?void 0:e.flagcarrier.id)||""}get alertClass(){if(this.tagScanned)switch(this.tagScanned){case"success_comm":case"success_player":return"TagSuccess";case"fail_player":return"TagFail";default:return"TagNothing"}return"message"===this.streamDeckData.playerHUDTriggerType?"MessageToRead":this.donationsToRead.length?"DonationsToRead":""}mounted(){nodecg.listenFor("bigbuttonTagScanned",(({state:e,data:t})=>{window.clearTimeout(this.messageTimeout),this.therunggMessage=null,this.tagScanned=e||!0,this.scannedData=t,this.messageTimeout=window.setTimeout((()=>{this.tagScanned=!1,this.scannedData=null}),7e3)})),nodecg.listenFor("therunggMessage",(e=>{window.clearTimeout(this.messageTimeout),this.tagScanned=!1,this.scannedData=null,this.therunggMessage=e,this.messageTimeout=window.setTimeout((()=>{this.therunggMessage=null}),1e4)}))}};D([b.State((e=>e.reps.timer))],w.prototype,"timer",void 0),D([b.State((e=>e.reps.donationsToRead))],w.prototype,"donationsToRead",void 0),D([b.State((e=>e.reps.streamDeckData))],w.prototype,"streamDeckData",void 0),w=D([r.Ay],w);const _=w,T=(0,n(6775).A)(_,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"Flex",style:{"flex-direction":"column",width:"100vw",height:"100vh"}},[t("div",{class:`PlayerHUD Flex ${e.alertClass}`,style:{width:"100%","flex-grow":1,"flex-direction":"column","box-sizing":"border-box",padding:"30px 5vw",transition:"background-color 1s","text-align":"center","font-size":"11vh"}},[e.therunggMessage?[t("span",{style:{"font-size":"0.6em"}},[e._v("therun.gg Message:")]),e._v("\n      "+e._s(e.therunggMessage)+"\n    ")]:e.tagScanned?["success_comm"===e.tagScanned?[t("div",[e._v("✔")]),e._v(" "),t("div",[t("span",{style:{"font-weight":600}},[e._v(e._s(e.tagDisplayName))]),e._v("\n          scanned in as commentator\n        ")])]:"success_player"===e.tagScanned?[t("div",[e._v("✔")]),e._v(" "),t("div",[t("span",{style:{"font-weight":600}},[e._v(e._s(e.tagDisplayName))]),e._v("\n          scanned in as player on\n          "),t("span",{style:{"white-space":"nowrap"}},[e._v("button "+e._s(e.buttonId)+"!")])])]:"fail_player"===e.tagScanned?[t("div",[e._v("❌")]),e._v(" "),t("div",[t("span",{style:{"font-weight":600}},[e._v(e._s(e.tagDisplayName))]),e._v("\n          cannot scan in as player on\n          "),t("span",{style:{"white-space":"nowrap"}},[e._v("button "+e._s(e.buttonId)+"!")])])]:[t("div",[e._v("❔")]),e._v(" "),t("div",[e._v("Tag was scanned but not needed")])]]:"message"===e.streamDeckData.playerHUDTriggerType?[e._v("\n      Any time\n      "),t("br"),e._v("for messages?\n    ")]:e.donationsToRead.length?[e._v("\n      Donations Pending:\n      "),t("br"),e._v(e._s(e.donationsToRead.length)+"\n      "),t("br"),e._v("Largest Unread Donation: "+e._s(e.largestDonation)+"\n    ")]:[e._v("\n      Nothing currently\n      "),t("br"),e._v("to be read\n    ")]],2),e._v(" "),t("div",{style:{background:"black",color:"white",width:"100%","text-align":"center","font-size":"6vh","padding-bottom":"1vh","padding-top":"30px"}},[e._v("\n    "+e._s(e.timer.time)+"\n  ")])])}),[],!1,null,null,null).exports;i.Ay.use(c.Ay);let x=class extends v.hw{get reps(){return this.context.rootState.ReplicantModule.reps}};x=function(e,t,n,a){var o,s=arguments.length,i=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}([(0,v.nV)({name:"OurModule"})],x);const S=new c.il({strict:!1,state:{},modules:{ReplicantModule:R,OurModule:x}}),M=S;(0,v.f_)(x,S),function(e){return t=this,n=void 0,o=function*(){Object.keys(m).forEach((t=>{m[t].on("change",(n=>{e.commit("ReplicantModule/setState",{name:t,val:n})}))})),yield NodeCG.waitForReplicants(...Object.keys(m).map((e=>m[e]))),y=(0,v.f_)(R,e)},new((a=void 0)||(a=Promise))((function(e,s){function i(e){try{c(o.next(e))}catch(e){s(e)}}function r(e){try{c(o.throw(e))}catch(e){s(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(i,r)}c((o=o.apply(t,n||[])).next())}));var t,n,a,o}(M).then((()=>{new i.Ay({store:M,el:"#App",render:e=>e(T)})}))},8969:(e,t,n)=>{"undefined"!=typeof Reflect&&Reflect.getMetadata}},n={};function a(e){var o=n[e];if(void 0!==o)return o.exports;var s=n[e]={exports:{}};return t[e].call(s.exports,s,s.exports,a),s.exports}a.m=t,e=[],a.O=(t,n,o,s)=>{if(!n){var i=1/0;for(l=0;l<e.length;l++){for(var[n,o,s]=e[l],r=!0,c=0;c<n.length;c++)(!1&s||i>=s)&&Object.keys(a.O).every((e=>a.O[e](n[c])))?n.splice(c--,1):(r=!1,s<i&&(i=s));if(r){e.splice(l--,1);var d=o();void 0!==d&&(t=d)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[n,o,s]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={228:0,160:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var o,s,[i,r,c]=n,d=0;if(i.some((t=>0!==e[t]))){for(o in r)a.o(r,o)&&(a.m[o]=r[o]);if(c)var l=c(a)}for(t&&t(n);d<i.length;d++)s=i[d],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(l)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=a.O(void 0,[478,160,580],(()=>a(8594)));o=a.O(o)})();